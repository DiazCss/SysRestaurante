@model UsuarioCambiarPasswordDTO
@{
    ViewData["Title"] = "Form Usuario";
    ActionsUI action = ViewBag.ActionsUI as ActionsUI;
}

<div class="card shadow mb-4">
    <div class="card-header py-3">
        <h4 class="m-0 font-weight-bold text-primary">Cambiar contraseña</h4>
    </div>
    <div class="card-body">
        <div class="row">
            <div class="col-md-4">
                <form asp-action="CambiarPassword" method="post">
                    <div class="form-group">
                        <input asp-for="Id" type="hidden" name="id" value="@Model.Id" class="form-control" />
                    </div> 
                    <input id="exito" type="hidden" class="alert alert-danger" value="@ViewBag.message" />

                    <div class="form-group">
                        <div id="error-message" class="alert alert-danger">@ViewBag.Error</div>

                        <label asp-for="PasswordActual" class="control-label"></label>
                        <input asp-for="PasswordActual" class="form-control" />
                        <span asp-validation-for="PasswordActual" class="text-danger"></span>
                    </div>
                    <div class="form-group">
                        <label asp-for="Password" class="control-label"></label>
                        <input asp-for="Password" class="form-control" />
                        <span asp-validation-for="Password" class="text-danger"></span>
                    </div>
                    <div class="form-group">
                        <label asp-for="ConfirmPassword" class="control-label"></label>
                        <input asp-for="ConfirmPassword" class="form-control" />
                        <span asp-validation-for="ConfirmPassword" class="text-danger"></span>
                    </div>
                    <div class="form-group">
                        <input type="submit" value="Cambiar contraseña" class="btn btn-primary" />
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
<script>
    $(function () {
        $("form").on("submit", function () {
            var password = $("#Password").val();
            var confirmPassword = $("#ConfirmPassword").val();
            if (password.trim() === '' || confirmPassword.trim() === '') {
                alert("La contraseña y la confirmación de contraseña no pueden estar vacías.");
                return false;
            }
            if (password !== confirmPassword) {
                alert("La contraseña y la confirmación de contraseña deben ser iguales.");
                return false;
            }
        });
    });
    var errorMessage = document.getElementById('error-message');
    if (errorMessage.textContent.trim() === '') {
        errorMessage.style.display = 'none';
    } else {
        errorMessage.style.display = 'block';
    }
   
 
</script>
